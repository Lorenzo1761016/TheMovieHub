
    <div>
        <button class="btn btn-primary filter-button" data-filter="all">Tutto</button>
        <button class="btn btn-default filter-button" data-filter="person">Persone</button>
        <button class="btn btn-default filter-button" data-filter="movie">Film</button>
        <button class="btn btn-default filter-button" data-filter="tv">Serie TV</button>
    </div>
    <br>
<div class = "container">
    <% @search.results.each_slice(4) do |ss|%>
        <div class = "row">
            <% ss.each do |s| %>
                <div class = "card col-md">
                    <% if s.media_type == "movie" %>
                        <div class = "col-md-3 filter movie">
                            <div class = "each-item">
                                <%= link_to result_path(s.id) do %>
                                    <% if s.poster_path %>
                                        <img src= '<%= image_path('https://image.tmdb.org/t/p/original/'+s.poster_path)%>' width = 210px>
                                    <%else%>
                                        <img src = '<%= image_path('/no_locandina.webp')%>' width = 210px>
                                    <% end %>
                                    <div class="cap1">
                                        <h4><%= s.title %></h4>
                                    </div>
                                <% end %>
                            </div>
                        </div>
                    <% end %>
                    <% if s.media_type == "tv" %>
                        <div class = "col-md-3 filter tv">
                            <div class = "each-item">
                                <%= link_to tv_path(s.id), class: "filter tv" do %>
                                    <% if s.poster_path %>
                                        <img class = "img" src= '<%= image_path('https://image.tmdb.org/t/p/original/'+s.poster_path)%>' width = 210px>
                                    <%else%>
                                        <img class = "img" src = '<%= image_path('/no_locandina.webp')%>' width = 210px>
                                    <% end %>
                                    <div class="cap1">
                                        <h4><%= s.name %></h4>
                                    </div>
                                <% end %>
                            </div>
                        </div>
                    <% end %>
                    <% if s.media_type == "person" %>
                        <div class = "col-md-3 filter person" width = "210px">
                            <div class = "each-item">
                                <%= link_to persona_path(s.id), class: "filter person" do %>
                                    <% if s.profile_path %>
                                        <img src= '<%= image_path('https://image.tmdb.org/t/p/original/'+s.profile_path)%>' width = 210px>
                                    <%else%>
                                        <img src = '<%= image_path('/no_locandina.webp')%>' width = 210px>
                                    <% end %>
                                    <div class="cap1">
                                        <h4><%= s.name %></h4>
                                    </div>
                                <% end %>
                            </div>
                        </div>
                    <% end %>
                </div>
            <% end %>
        </div>
    <% end %>
</div>


<script>
$(document).ready(function(){

    $(".filter-button").click(function(){
        var value = $(this).attr('data-filter');
        
        if(value == "all")
        {
            //$('.filter').removeClass('hidden');
            $('.filter').show();
        }
        else
        {
//            $('.filter[filter-item="'+value+'"]').removeClass('hidden');
//            $(".filter").not('.filter[filter-item="'+value+'"]').addClass('hidden');
            $(".filter").not('.'+value).hide();
            $('.filter').filter('.'+value).show();
            
        }
    });

});
</script>

<style>

.col-md-3
{
    margin-bottom:20px;
}

.each-item
{
    position:relative;
    overflow: hidden;
}

.each-item:hover .cap1
{
    left:0px;
    overflow: hidden;
   
}

.cap1
{
    position:absolute;
    width: 80%;
    height:100%;
    background:rgba(255, 255, 255, 0.5);
    top:0px;
    left:-100%;
    padding:10px;
    overflow: hidden;
    transition: all 1s;
}

.img:hover {
    -webkit-filter: blur(2px);
    filter: blur(2px);
}

</style>